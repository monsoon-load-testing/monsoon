(this.webpackJsonpdashboard=this.webpackJsonpdashboard||[]).push([[0],{210:function(e,t,a){},211:function(e,t,a){},347:function(e,t,a){"use strict";a.r(t);var s=a(1),n=a.n(s),c=a(189),i=a.n(c),r=(a(210),a(126)),o=(a(211),a(15)),l=a(4),m=function(e){var t=new Date(Number(e.testDate,10)),a=t.toDateString(),s="".concat(t.getHours(),":").concat(t.getMinutes(),":").concat(t.getSeconds()),n=e.url,c=e.clickHandler;return Object(l.jsxs)("tr",{"data-url":n,onClick:c,children:[Object(l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:Object(l.jsx)("div",{className:"flex items-center",children:Object(l.jsx)("div",{className:"ml-4",children:Object(l.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.testName})})})}),Object(l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:Object(l.jsxs)("div",{className:"text-sm text-gray-900",children:[a,": ",s]})})]})},d=a(213);function j(e){var t=e.response;t&&t.data&&t.data.error?console.error("HTTP Error: ".concat(t.data.error)):console.error("Error: ",e)}var u="/api/tests";function x(e){return e.data}d.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",d.defaults.headers.common.Accept="application/json";var b={getListOfSteps:function(e,t){return d.get("".concat(u,"/").concat(e,"/steps")).then(x).then(t).catch(j)},getTestDataset:function(e,t){return d.get("".concat(u,"/").concat(e)).then(x).then(t).catch(j)},getTestStats:function(e,t){return d.get("".concat(u,"/").concat(e,"/stats")).then(x).then(t).catch(j)},getListOfTables:function(e,t){return d.get("".concat(u)).then(x).then(t).catch(j)}},h=a(10),f=function(){var e=Object(s.useState)([]),t=Object(o.a)(e,2),a=t[0],n=t[1];Object(s.useEffect)((function(){var e=b.getListOfTables();Promise.resolve(e).then((function(e){return e})).then((function(e){n(e)}))}),[n]);var c=Object(h.f)(),i=function(e){e.preventDefault(),c("/tests/".concat(e.target.closest("tr").dataset.url,"/"))};return Object(l.jsx)("div",{className:"flex flex-col",children:Object(l.jsx)("div",{className:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8",children:Object(l.jsx)("div",{className:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8",children:Object(l.jsx)("div",{className:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg",children:Object(l.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[Object(l.jsx)("thead",{className:"bg-gray-50",children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Test Name"}),Object(l.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),Object(l.jsx)("th",{scope:"col",className:"relative px-6 py-3",children:Object(l.jsx)("span",{className:"sr-only",children:"Delete"})})]})}),Object(l.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:JSON.stringify(a)!==[]&&a.map((function(e){var t="".concat(e.testName,"-").concat(e.date);return Object(l.jsx)(m,{url:t,testName:e.testName,testDate:e.date,clickHandler:i},t)}))})]})})})})})},O=a(49),v=a(102),p=a(358),g=a(360),y=a(188),w=a(362),N=(a(365),a(364)),k=a(182),R=a(361),T=a(363);var C=a(98),A=function(e){var t=e.active,a=e.setActive,s=function(e){e.preventDefault();var s=e.target.dataset.metric;a(Object(O.a)(Object(O.a)({},t),{},Object(C.a)({},s,!t[s])))},n=t.isActiveResponseTime,c=t.isActiveConcurrentUsers,i=t.isActiveTransactionRate,r=t.isActivePassRatio;return Object(l.jsxs)("div",{className:"border bg-gray-500 mt-2",children:[Object(l.jsx)("p",{className:"text-center",children:"Legend"}),Object(l.jsxs)("ul",{className:"flex justify-evenly",children:[Object(l.jsxs)("li",{onClick:s,className:"text-left cursor-pointer inline-block","data-metric":"isActiveResponseTime",children:["Response Time: ",n?"active":"inactive"]}),Object(l.jsxs)("li",{onClick:s,className:"text-left cursor-pointer inline-block","data-metric":"isActiveConcurrentUsers",children:["Concurrent Users: ",c?"active":"inactive"]}),Object(l.jsxs)("li",{onClick:s,className:"text-left cursor-pointer inline-block","data-metric":"isActiveTransactionRate",children:["Transaction Rate: ",i?"active":"inactive"]}),Object(l.jsxs)("li",{onClick:s,className:"text-left cursor-pointer inline-block","data-metric":"isActivePassRatio",children:["Pass Ratio: ",r?"active":"inactive"]})]})]})},D=a(366),S=function(e){var t=e.responseTime,a=e.maxResponseTime,s=e.concurrentUsers,n=e.maxConcurrentUsers,c=e.transactionRate,i=e.maxTransactionRate,r=e.passRatio,o=e.maxPassRatio,m=e.zoomDomain,d=e.setZoomDomain,j=e.active,u=j.isActiveResponseTime,x=j.isActiveConcurrentUsers,b=j.isActiveTransactionRate,h=j.isActivePassRatio,f=Object(p.a)("zoom","voronoi");return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)(g.a,{theme:y.a.material,domainPadding:20,padding:{left:100,right:100,top:50,bottom:30},width:1e3,height:350,scale:{x:"time"},domain:{y:[0,1.1]},containerComponent:Object(l.jsx)(f,{allowZoom:!1,allowPan:!1,voronoiBlacklist:["ignore1","ignore2","ignore3","ignore4"],voronoiDimension:"x",zoomDimension:"x",zoomDomain:m,onZoomDomainChange:function(e){return d(e)},labels:function(e){var t=e.datum;return"".concat(t.metric,": ").concat(t.value," ").concat(t.unit)},labelComponent:Object(l.jsx)(w.a,{})}),children:[Object(l.jsx)(N.a,{},"Response Time Axis"),u&&Object(l.jsx)(N.a,{dependentAxis:!0,tickValues:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1],tickFormat:function(e){return Math.round(e*a)},axisLabelComponent:Object(l.jsx)(k.a,{x:50,y:150,angle:-90}),label:"Response Time",style:{grid:{strokeWidth:0},ticks:{padding:-5,strokeWidth:0}}}),x&&Object(l.jsx)(N.a,{dependentAxis:!0,tickValues:[.1,.2,.3,.4,.5,.6,.7,.8,.9,1],tickFormat:function(e){return Math.round(e*n)},axisLabelComponent:Object(l.jsx)(k.a,{x:150,y:150,angle:-90}),label:"Concurrent users",style:{ticks:{padding:-35,strokeWidth:0},grid:{strokeWidth:0}}},"Concurrent Users Axis"),b&&Object(l.jsx)(N.a,{dependentAxis:!0,tickValues:[.1,.2,.3,.4,.5,.6,.7,.8,.9,1],tickFormat:function(e){return Math.round(e*i)},offsetX:900,axisLabelComponent:Object(l.jsx)(k.a,{x:850,y:150,angle:-90}),label:"Transaction rate",style:{grid:{strokeWidth:0},ticks:{padding:0,strokeWidth:0}}},"Transaction Rate Axis"),h&&Object(l.jsx)(N.a,{dependentAxis:!0,tickValues:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1],tickFormat:function(e){return Math.round(e*o)},offsetX:900,axisLabelComponent:Object(l.jsx)(k.a,{x:950,y:150,angle:-90}),label:"Pass ratio",style:{grid:{strokeWidth:0},ticks:{padding:-50,strokeWidth:0}}},"Pass Ratio Axis"),u&&Object(l.jsx)(R.a,{name:"ignore1",style:{data:{stroke:"tomato"}},data:t,x:"time",y:function(e){return e.value/a}},"Response Time Line"),u&&Object(l.jsx)(D.a,{style:{data:{fill:"tomato"}},data:t,x:"time",y:function(e){return e.value/a},size:function(e){return e.active?4:1}},"Response Time Scatter"),x&&Object(l.jsx)(R.a,{name:"ignore2",style:{data:{stroke:"blue"}},data:s,x:"time",y:function(e){return e.value/n}},"Concurrent Users Line"),x&&Object(l.jsx)(D.a,{style:{data:{fill:"blue"}},data:s,x:"time",y:function(e){return e.value/n},size:function(e){return e.active?4:1}},"Concurrent Users Scatter"),b&&Object(l.jsx)(R.a,{name:"ignore3",style:{data:{stroke:"purple"}},data:c,x:"time",y:function(e){return e.value/i}},"Transaction Rate Line"),b&&Object(l.jsx)(D.a,{style:{data:{fill:"purple"}},data:c,x:"time",y:function(e){return e.value/i},size:function(e){return e.active?4:1}},"Transaction Rate Scatter"),h&&Object(l.jsx)(R.a,{name:"ignore4",style:{data:{stroke:"green"}},data:r,x:"time",y:function(e){return e.value/o}},"Pass Ratio Line"),h&&Object(l.jsx)(D.a,{style:{data:{fill:"green"}},data:r,x:"time",y:function(e){return e.value/o},size:function(e){return e.active?4:1}},"Pass Ratio Scatter")]},"Main VictoryChart")})},U=function(e){var t=e.responseTime,a=e.maxResponseTime,s=e.concurrentUsers,n=e.maxConcurrentUsers,c=e.transactionRate,i=e.maxTransactionRate,r=e.passRatio,o=e.maxPassRatio,m=e.zoomDomain,d=e.setZoomDomain,j=e.active,u=j.isActiveResponseTime,x=j.isActiveConcurrentUsers,b=j.isActiveTransactionRate,h=j.isActivePassRatio;return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)(g.a,{theme:y.a.material,domainPadding:20,padding:{left:100,right:100,top:10,bottom:50},width:1e3,height:110,scale:{x:"time"},domain:{y:[0,1.1]},containerComponent:Object(l.jsx)(T.b,{brushDimension:"x",brushDomain:m,onBrushDomainChange:function(e){return d({x:e.x,y:[0,1.1]})}}),children:[Object(l.jsx)(N.a,{},"Window time axis"),u&&Object(l.jsx)(R.a,{name:"Response Time",style:{data:{stroke:"tomato"}},data:t,x:"time",y:function(e){return e.value/a}},"Window Response Time line"),x&&Object(l.jsx)(R.a,{style:{data:{stroke:"blue"}},data:s,x:"time",y:function(e){return e.value/n}},"Window Concurrent Users Line"),b&&Object(l.jsx)(R.a,{style:{data:{stroke:"purple"}},data:c,x:"time",y:function(e){return e.value/i}},"Window Transaction Rate Line"),h&&Object(l.jsx)(R.a,{style:{data:{stroke:"green"}},data:r,x:"time",y:function(e){return e.value/o}},"Window Pass Ratio Line")]},"Window VictoryChart")})},P=function(e){var t=e.responseTime,a=e.concurrentUsers,n=e.transactionRate,c=e.passRatio,i=[t,a,n,c].map((function(e){return Math.max.apply(Math,Object(v.a)(e.map((function(e){return e.value}))))})),r=Object(o.a)(i,4),m=r[0],d=r[1],j=r[2],u=r[3],x=[t[0].time,t[t.length-1].time],b=x[0],h=x[1],f=Object(s.useState)({x:[b,h],y:[0,1.1]}),O=Object(o.a)(f,2),p=O[0],g=O[1],y=Object(s.useState)({isActiveResponseTime:!0,isActiveConcurrentUsers:!0,isActiveTransactionRate:!0,isActivePassRatio:!0}),w=Object(o.a)(y,2),N=w[0],k=w[1];return Object(l.jsx)("div",{className:"w-full rounded-lg flex-shrink-0 flex-grow bg-gray-0 border-4 mt-2",children:Object(l.jsx)("div",{className:"flex justify-center",children:Object(l.jsxs)("div",{className:"w-4/5 flex flex-col",children:[Object(l.jsx)(A,{active:N,setActive:k}),Object(l.jsx)(S,{responseTime:t,maxResponseTime:m,concurrentUsers:a,maxConcurrentUsers:d,transactionRate:n,maxTransactionRate:j,passRatio:c,maxPassRatio:u,zoomDomain:p,setZoomDomain:g,active:N}),Object(l.jsx)(U,{responseTime:t,maxResponseTime:m,concurrentUsers:a,maxConcurrentUsers:d,transactionRate:n,maxTransactionRate:j,passRatio:c,maxPassRatio:u,zoomDomain:p,setZoomDomain:g,active:N})]})})})},M=function(e){return Object(l.jsxs)("div",{className:"flex flex-grow items-center justify-center mt-0 pt-0 pb-0 border-t-0 px-6 align-middle border-l-0 text-lg border-r-0 whitespace-nowrap p-4 text-left text-blueGray-700 ",children:[e.metricName,": ",e.metricValue," ",e.metricUnit]})},L=function(e){var t=e.responseTime,a=Math.round(t["95th Percentile"]),s=Math.round(t.Average),n=Math.round(t.Min),c=Math.round(t.Max);return Object(l.jsxs)("div",{className:"w-full rounded-lg flex-shrink-0 flex-grow mb-0",children:[Object(l.jsx)("link",{rel:"stylesheet",href:"https://demos.creative-tim.com/notus-js/assets/styles/tailwind.css"}),Object(l.jsx)("link",{rel:"stylesheet",href:"https://demos.creative-tim.com/notus-js/assets/vendor/@fortawesome/fontawesome-free/css/all.min.css"}),Object(l.jsx)("section",{children:Object(l.jsx)("div",{children:Object(l.jsx)("div",{className:"relative flex flex-col min-w-0 break-words bg-white w-full shadow-lg rounded ",children:Object(l.jsx)("div",{className:"block w-full overflow-x-auto",children:Object(l.jsxs)("div",{className:"items-center bg-transparent w-full border-collapse",children:[Object(l.jsx)("div",{className:"",children:Object(l.jsx)("div",{children:Object(l.jsx)("p",{className:"px-6 bg-blueGray-50 text-blueGray-500 align-middle border border-solid border-blueGray-100 text-s uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-center",children:"Response Time Metrics"})})}),Object(l.jsxs)("div",{className:"flex justify-evenly",children:[Object(l.jsx)(M,{metricName:"95th Percentile",metricValue:a,metricUnit:"ms"}),Object(l.jsx)(M,{metricName:"Average",metricValue:s,metricUnit:"ms"}),Object(l.jsx)(M,{metricName:"Min",metricValue:n,metricUnit:"ms"}),Object(l.jsx)(M,{metricName:"Max",metricValue:c,metricUnit:"ms"})]})]})})})})})]})},W=function(e){var t=e.stepName,a=e.clickHandler;return Object(l.jsx)("div",{className:"h-10 w-15 flex flex-grow items-center justify-center bg-red-200 rounded-lg cursor-pointer hover:text-gray-800 hover:bg-white  hover:duration-300 hover:ease-linear focus:bg-white",onClick:a,children:Object(l.jsx)("p",{className:"text-center text-2xl",children:t})})},z=function(){var e=Object(h.g)().tableName,t=Object(s.useState)([]),a=Object(o.a)(t,2),n=a[0],c=a[1],i=Object(s.useState)({}),r=Object(o.a)(i,2),m=r[0],d=r[1],j=Object(s.useState)({}),u=Object(o.a)(j,2),x=u[0],f=u[1],v=Object(s.useState)(""),p=Object(o.a)(v,2),g=p[0],y=p[1],w=Object(s.useState)({}),N=Object(o.a)(w,2),k=N[0],R=N[1],T=Object(s.useState)({}),C=Object(o.a)(T,2),A=C[0],D=C[1];Object(s.useEffect)((function(){var t=b.getListOfSteps(e),a=b.getTestStats(e),s=b.getTestDataset(e);Promise.all([t,a,s]).then((function(e){return c(e[0]),d(e[1]),f(function(e){var t=Object(O.a)({},e);return Object.values(t).forEach((function(e){Object.values(e).forEach((function(e){e.forEach((function(e){var t=60*new Date(e.time).getTimezoneOffset()*1e3;e.time=new Date(e.time)-t}))}))})),t}(e[2])),e})).then((function(e){var t=e[0][0];y(t)}))}),[c,d,f,y,e]),Object(s.useEffect)((function(){R(m[g]||{}),D(x[g]||{})}),[g,m,x,R,D]);var S=function(e){e.preventDefault(),y(e.target.textContent)};return Object(l.jsx)("div",{className:"w-full bg-white relative flex overflow-hidden",children:Object(l.jsxs)("div",{className:"w-full h-full flex flex-col justify-between",children:[Object(l.jsx)("header",{className:"h-16 w-full flex items-center relative justify-between px-5 space-x-10 bg-gray-900",children:n.map((function(e){return Object(l.jsx)(W,{stepName:e,clickHandler:S,"data-key":e},e)}))}),Object(l.jsx)("main",{className:"max-w-full h-full flex relative overflow-y-hidden",children:Object(l.jsxs)("div",{className:"h-full w-full rounded-tl grid-flow-col auto-cols-max gap-4 overflow-y-scroll",children:["{}"!==JSON.stringify(k)&&Object(l.jsx)(L,Object(O.a)({},k)),"{}"!==JSON.stringify(A)&&Object(l.jsx)(P,Object(O.a)({},A))]})})]})})},V=function(){return Object(l.jsx)("div",{className:"flex-1 flex flex-col",children:Object(l.jsxs)("nav",{className:"px-4 flex justify-between bg-white h-16 border-b-2 text-4xl",children:[Object(l.jsx)("ul",{className:"flex items-center",children:Object(l.jsx)("li",{className:"h-6 w-6",children:Object(l.jsx)("img",{className:"h-full w-full mx-auto",src:"https://upload.wikimedia.org/wikipedia/commons/thumb/1/1b/Svelte_Logo.svg/512px-Svelte_Logo.svg.png",alt:"svelte logo"})})}),Object(l.jsx)("ul",{className:"flex items-center",children:Object(l.jsx)("li",{children:Object(l.jsx)("h1",{className:"pl-8 lg:pl-0 text-gray-700",children:"Monsoon Weather Channel"})})}),Object(l.jsx)("ul",{className:"flex items-center"})]})})};var E=function(){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(V,{}),Object(l.jsx)(h.c,{children:Object(l.jsxs)(h.a,{path:"/",children:[Object(l.jsx)(h.a,{index:!0,element:Object(l.jsx)(f,{})}),Object(l.jsx)(h.a,{path:"tests",children:Object(l.jsx)(h.a,{path:":tableName",element:Object(l.jsx)(z,{})})})]})})]})};i.a.render(Object(l.jsx)(n.a.StrictMode,{children:Object(l.jsx)(r.a,{children:Object(l.jsx)(E,{})})}),document.getElementById("root"))}},[[347,1,2]]]);
//# sourceMappingURL=main.3d18e89a.chunk.js.map